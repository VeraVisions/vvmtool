CXXFLAGS= -Os -fomit-frame-pointer
override CXXFLAGS+= -Wall -fsigned-char
CXX=i686-w64-mingw32-g++

default: all

all: vvm.exe

clean:
	-$(RM) vvm.exe vvm.w32.o

%.w32.o : %.cpp
	$(CXX) -o $@ -c $<

vvm.exe: vvm.w32.o
	$(CXX) -o vvm.exe $^ -static -static-libgcc -static-libstdc++

vvm.w32.o: vvm.cpp vvm.h util.h
